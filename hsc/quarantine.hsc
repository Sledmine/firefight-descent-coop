;; Firefight Descent: Quarantine
;; September 1, 2019
;; Authored by Pepzee
;; Inspired by Gamma927 & MoooseGuy

(global boolean ai_dead true)
(global boolean explosion_blocker false)
(global boolean explosion_one_life true)
(global boolean cheater false)
(global boolean classic_weapons false)
(global boolean dead_by_fall false)
(global boolean end_wave_panel_created false)
(global boolean enemies_see_me true)
(global boolean challenge_wave false)
(global boolean game_ended false)
(global boolean game_started false)
(global boolean happy_easter false)
(global boolean intro_complete false)
(global boolean kill_messages false)
(global boolean music_muted false)
(global boolean no_lives_lost false)
(global boolean tutorial_completed false)
(global boolean wave_of_death false)
(global short egg_panels 0)
(global short lives 9999)
(global short loadout 0)
(global short spawngun_socom 1)
(global short spawngun_smg 1)
(global short spawngun_ar 1)
(global short spawngun_br 1)
(global short spawngun_tar 1)
(global short spawngun_tbr 1)
(global short spawngun_sg 1)
(global short spawngun_sr 1)
(global short spawngun_ft 1)
(global short spawngun_fr 1)
(global short spawngun_rl 1)
(global short spawngun_sl 1)
(global short spawngun_badass 1)
(global short spawngun_frag 1)
(global short spawngun_health 1)
(global short waves 0)
(global short weapondropvalue 0)
(global object_definition goldeneye quarantine\weapons\goldeneye\goldeneye)

(script static unit player0
	(unit (list_get (players) 0))
)
(script static void lives_calculator
	(if (= (game_difficulty_get_real) easy)
		(set lives 8)
	)
	(if (= (game_difficulty_get_real) normal)
		(set lives 7)
	)
	(if (= (game_difficulty_get_real) hard)
		(set lives 6)
	)
	(if (= (game_difficulty_get_real) impossible)
		(set lives 5)
	)
)
(script static void lives_counter
	(if (= challenge_wave false)
		(begin
			(if (= lives 15)
				(cinematic_set_title lives_15)
			)
			(if (= lives 14)
				(cinematic_set_title lives_14)
			)
			(if (= lives 13)
				(cinematic_set_title lives_13)
			)
			(if (= lives 12)
				(cinematic_set_title lives_12)
			)
			(if (= lives 11)
				(cinematic_set_title lives_11)
			)
			(if (= lives 10)
				(cinematic_set_title lives_10)
			)
			(if (= lives 9)
				(cinematic_set_title lives_9)
			)
			(if (= lives 8)
				(cinematic_set_title lives_8)
			)
			(if (= lives 7)
				(cinematic_set_title lives_7)
			)
			(if (= lives 6)
				(cinematic_set_title lives_6)
			)
			(if (= lives 5)
				(cinematic_set_title lives_5)
			)
			(if (= lives 4)
				(cinematic_set_title lives_4)
			)
			(if (= lives 3)
				(cinematic_set_title lives_3)
			)
			(if (= lives 2)
				(cinematic_set_title lives_2)
			)
			(if (= lives 1)
				(cinematic_set_title lives_1)
			)
		)
	)
)
(script static void wave_counter
	(if (= kill_messages false)
		(begin
			(show_hud_help_text true)
			(enable_hud_help_flash true)
			(if (= waves 51)
				(hud_set_help_text wave_last)
			)
			(if (= waves 50)
				(hud_set_help_text wave_50)
			)
			(if (= waves 49)
				(hud_set_help_text wave_49)
			)
			(if (= waves 48)
				(hud_set_help_text wave_48)
			)
			(if (= waves 47)
				(hud_set_help_text wave_47)
			)
			(if (= waves 46)
				(hud_set_help_text wave_46)
			)
			(if (= waves 45)
				(hud_set_help_text wave_45)
			)
			(if (= waves 44)
				(hud_set_help_text wave_44)
			)
			(if (= waves 43)
				(hud_set_help_text wave_43)
			)
			(if (= waves 42)
				(hud_set_help_text wave_42)
			)
			(if (= waves 41)
				(hud_set_help_text wave_41)
			)
			(if (= waves 40)
				(hud_set_help_text wave_40)
			)
			(if (= waves 39)
				(hud_set_help_text wave_39)
			)
			(if (= waves 38)
				(hud_set_help_text wave_38)
			)
			(if (= waves 37)
				(hud_set_help_text wave_37)
			)
			(if (= waves 36)
				(hud_set_help_text wave_36)
			)
			(if (= waves 35)
				(hud_set_help_text wave_35)
			)
			(if (= waves 34)
				(hud_set_help_text wave_34)
			)
			(if (= waves 33)
				(hud_set_help_text wave_33)
			)
			(if (= waves 32)
				(hud_set_help_text wave_32)
			)
			(if (= waves 31)
				(hud_set_help_text wave_31)
			)
			(if (= waves 30)
				(hud_set_help_text wave_30)
			)
			(if (= waves 29)
				(hud_set_help_text wave_29)
			)
			(if (= waves 28)
				(hud_set_help_text wave_28)
			)
			(if (= waves 27)
				(hud_set_help_text wave_27)
			)
			(if (= waves 26)
				(hud_set_help_text wave_26)
			)
			(if (= waves 25)
				(hud_set_help_text wave_25)
			)
			(if (= waves 24)
				(hud_set_help_text wave_24)
			)
			(if (= waves 23)
				(hud_set_help_text wave_23)
			)
			(if (= waves 22)
				(hud_set_help_text wave_22)
			)
			(if (= waves 21)
				(hud_set_help_text wave_21)
			)
			(if (= waves 20)
				(hud_set_help_text wave_20)
			)
			(if (= waves 19)
				(hud_set_help_text wave_19)
			)
			(if (= waves 18)
				(hud_set_help_text wave_18)
			)
			(if (= waves 17)
				(hud_set_help_text wave_17)
			)
			(if (= waves 16)
				(hud_set_help_text wave_16)
			)
			(if (= waves 15)
				(hud_set_help_text wave_15)
			)
			(if (= waves 14)
				(hud_set_help_text wave_14)
			)
			(if (= waves 13)
				(hud_set_help_text wave_13)
			)
			(if (= waves 12)
				(hud_set_help_text wave_12)
			)
			(if (= waves 11)
				(hud_set_help_text wave_11)
			)
			(if (= waves 10)
				(hud_set_help_text wave_10)
			)
			(if (= waves 9)
				(hud_set_help_text wave_9)
			)
			(if (= waves 8)
				(hud_set_help_text wave_8)
			)
			(if (= waves 7)
				(hud_set_help_text wave_7)
			)
			(if (= waves 6)
				(hud_set_help_text wave_6)
			)
			(if (= waves 5)
				(hud_set_help_text wave_5)
			)
			(if (= waves 4)
				(hud_set_help_text wave_4)
			)
			(if (= waves 3)
				(hud_set_help_text wave_3)
			)
			(if (= waves 2)
				(hud_set_help_text wave_2)
			)
			(if (= waves 1)
				(hud_set_help_text wave_1)
			)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
)
(script continuous playlist
	(if (= intro_complete false)
		(begin
			(sound_looping_predict quarantine\music\sound_looping\amberclad_startup)
			(sound_looping_start quarantine\music\sound_looping\amberclad_startup none 0.6)
			(sleep 2940)
			(sound_looping_stop quarantine\music\sound_looping\amberclad_startup)
		)
	)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\cairo_loopy)
	(sound_looping_start quarantine\music\sound_looping\cairo_loopy none 0.75)
	(sleep 3810)
	(sound_looping_stop quarantine\music\sound_looping\cairo_loopy)
	(sleep_until (= music_muted false))
	(sound_looping_predict sound\moooseguy\sound_looping\arrivalmix)
	(sound_looping_start sound\moooseguy\sound_looping\arrivalmix none 0.75)
	(sleep 4560)
	(sound_looping_stop sound\moooseguy\sound_looping\arrivalmix)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\perilremix_gameplay)
	(sound_looping_start quarantine\music\sound_looping\perilremix_gameplay none 0.75)
	(sleep 4860)
	(sound_looping_stop quarantine\music\sound_looping\perilremix_gameplay)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\edgecloser_extended)
	(sound_looping_start quarantine\music\sound_looping\edgecloser_extended none 0.75)
	(sleep 4050)
	(sound_looping_stop quarantine\music\sound_looping\edgecloser_extended)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\ghostofreach_remix)
	(sound_looping_start quarantine\music\sound_looping\ghostofreach_remix none 0.75)
	(sleep 6600)
	(sound_looping_stop quarantine\music\sound_looping\ghostofreach_remix)
	(sleep_until (= music_muted false))
	(sound_looping_predict sound\moooseguy\sound_looping\coviedanceremix)
	(sound_looping_start sound\moooseguy\sound_looping\coviedanceremix none 0.75)
	(sleep 3510)
	(sound_looping_stop sound\moooseguy\sound_looping\coviedanceremix)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\coverofnight_trippy)
	(sound_looping_start quarantine\music\sound_looping\coverofnight_trippy none 0.75)
	(sleep 8190)
	(sound_looping_stop quarantine\music\sound_looping\coverofnight_trippy)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\alexandria_extended)
	(sound_looping_start quarantine\music\sound_looping\alexandria_extended none 0.75)
	(sleep 4020)
	(sound_looping_stop quarantine\music\sound_looping\alexandria_extended)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\forerunner_mix)
	(sound_looping_start quarantine\music\sound_looping\forerunner_mix none 0.75)
	(sleep 3900)
	(sound_looping_stop quarantine\music\sound_looping\forerunner_mix)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\floodtheme_extended)
	(sound_looping_start quarantine\music\sound_looping\floodtheme_extended none 0.75)
	(sleep 6630)
	(sound_looping_stop quarantine\music\sound_looping\floodtheme_extended)
	(sleep_until (= music_muted false))
	(sound_looping_predict sound\moooseguy\sound_looping\odstblingymix)
	(sound_looping_start sound\moooseguy\sound_looping\odstblingymix none 0.75)
	(sleep 6360)
	(sound_looping_stop sound\moooseguy\sound_looping\odstblingymix)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\ourland_extended)
	(sound_looping_start quarantine\music\sound_looping\ourland_extended none 0.75)
	(sleep 4530)
	(sound_looping_stop quarantine\music\sound_looping\ourland_extended)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\mausoleum_flood)
	(sound_looping_start quarantine\music\sound_looping\mausoleum_flood none 0.75)
	(sleep 2610)
	(sound_looping_stop quarantine\music\sound_looping\mausoleum_flood)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\bungieconcept_odst)
	(sound_looping_start quarantine\music\sound_looping\bungieconcept_odst none 0.75)
	(sleep 6060)
	(sound_looping_stop quarantine\music\sound_looping\bungieconcept_odst)
	(sleep_until (= music_muted false))
	(sound_looping_predict sound\moooseguy\sound_looping\bothways)
	(sound_looping_start sound\moooseguy\sound_looping\bothways none 0.75)
	(sleep 3930)
	(sound_looping_stop sound\moooseguy\sound_looping\bothways)
	(sleep_until (= music_muted false))
	(sound_looping_predict quarantine\music\sound_looping\amberclad_epic)
	(sound_looping_start quarantine\music\sound_looping\amberclad_epic none 0.75)
	(sleep 4860)
	(sound_looping_stop quarantine\music\sound_looping\amberclad_epic)
	(sleep_until (= music_muted false))
	(sleep 30)
)
(script static void start_music
	(if (= game_ended false)
		(begin
			(set music_muted false)
			(sound_looping_set_scale quarantine\music\sound_looping\amberclad_startup 0.6)
			(sound_looping_set_scale quarantine\music\sound_looping\cairo_loopy 0.75)
			(sound_looping_set_scale sound\moooseguy\sound_looping\arrivalmix 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\perilremix_gameplay 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\edgecloser_extended 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\ghostofreach_remix 0.75)
			(sound_looping_set_scale sound\moooseguy\sound_looping\coviedanceremix 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\coverofnight_trippy 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\alexandria_extended 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\forerunner_mix 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\floodtheme_extended 0.75)
			(sound_looping_set_scale sound\moooseguy\sound_looping\odstblingymix 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\ourland_extended 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\mausoleum_flood 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\bungieconcept_odst 0.75)
			(sound_looping_set_scale sound\moooseguy\sound_looping\bothways 0.75)
			(sound_looping_set_scale quarantine\music\sound_looping\amberclad_epic 0.6)
		)
	)
	(if (= game_ended true)
		(sound_looping_start quarantine\music\sound_looping\neverforget_electro none 0.75)
	)
)
(script static void stop_music
	(set music_muted true)
	(sound_looping_set_scale quarantine\music\sound_looping\amberclad_startup 0)
	(sound_looping_set_scale quarantine\music\sound_looping\cairo_loopy 0)
	(sound_looping_set_scale sound\moooseguy\sound_looping\arrivalmix 0)
	(sound_looping_set_scale quarantine\music\sound_looping\perilremix_gameplay 0)
	(sound_looping_set_scale quarantine\music\sound_looping\edgecloser_extended 0)
	(sound_looping_set_scale quarantine\music\sound_looping\ghostofreach_remix 0)
	(sound_looping_set_scale sound\moooseguy\sound_looping\coviedanceremix 0)
	(sound_looping_set_scale quarantine\music\sound_looping\coverofnight_trippy 0)
	(sound_looping_set_scale quarantine\music\sound_looping\alexandria_extended 0)
	(sound_looping_set_scale quarantine\music\sound_looping\forerunner_mix 0)
	(sound_looping_set_scale quarantine\music\sound_looping\floodtheme_extended 0)
	(sound_looping_set_scale sound\moooseguy\sound_looping\odstblingymix 0)
	(sound_looping_set_scale quarantine\music\sound_looping\ourland_extended 0)
	(sound_looping_set_scale quarantine\music\sound_looping\mausoleum_flood 0)
	(sound_looping_set_scale quarantine\music\sound_looping\bungieconcept_odst 0)
	(sound_looping_set_scale sound\moooseguy\sound_looping\bothways 0)
	(sound_looping_set_scale quarantine\music\sound_looping\amberclad_epic 0)
	(sound_looping_set_scale quarantine\music\sound_looping\neverforget_electro 0)
)
(script static void music_over
	(set music_muted true)
	(sound_looping_stop quarantine\music\sound_looping\amberclad_startup)
	(sound_looping_stop quarantine\music\sound_looping\cairo_loopy)
	(sound_looping_stop sound\moooseguy\sound_looping\arrivalmix)
	(sound_looping_stop quarantine\music\sound_looping\perilremix_gameplay)
	(sound_looping_stop quarantine\music\sound_looping\edgecloser_extended)
	(sound_looping_stop quarantine\music\sound_looping\ghostofreach_remix)
	(sound_looping_stop sound\moooseguy\sound_looping\coviedanceremix)
	(sound_looping_stop quarantine\music\sound_looping\coverofnight_trippy)
	(sound_looping_stop quarantine\music\sound_looping\alexandria_extended)
	(sound_looping_stop quarantine\music\sound_looping\forerunner_mix)
	(sound_looping_stop quarantine\music\sound_looping\floodtheme_extended)
	(sound_looping_stop sound\moooseguy\sound_looping\odstblingymix)
	(sound_looping_stop quarantine\music\sound_looping\ourland_extended)
	(sound_looping_stop quarantine\music\sound_looping\mausoleum_flood)
	(sound_looping_stop quarantine\music\sound_looping\bungieconcept_odst)
	(sound_looping_stop sound\moooseguy\sound_looping\bothways)
	(sound_looping_stop quarantine\music\sound_looping\amberclad_epic)
	(sound_looping_stop quarantine\music\sound_looping\neverforget_electro)
)
(script static void garbage_man
	(garbage_collect_now)
	(rasterizer_decals_flush)
)
(script static void life_lost
	(if (= (unit_get_health (player0)) 0)
		(begin	
			(set explosion_one_life true)
			(cinematic_screen_effect_stop)
			(object_create_anew dead_biped)
			(player_enable_input 0)
			(player_camera_control 0)
			(objects_attach (player0) "" dead_biped "")
			(objects_detach (player0) dead_biped)
			(unit_kill dead_biped)
			(object_teleport (player0) teleport_flag)
			(ai_set_blind infections_1-10 true)
			(ai_set_blind infections_11-51 true)
			(ai_set_blind carriers_1-10 true)
			(ai_set_blind carriers_11-51 true)
			(set enemies_see_me false)
			(camera_set_dead dead_biped)
			(camera_control 1)
			(player_add_equipment (player0) empty true)
			(object_set_shield (player0) 0)
			(object_cannot_take_damage (player0))
			(if (= dead_by_fall false)
				(sleep 30)
			)
			(if (= dead_by_fall true)
				(set dead_by_fall false)
			)
			;(if (= no_lives_lost false)
			;	(set lives (- lives 1))
			;)
			(if (<= lives 0)
				(begin
					(set kill_messages true)
					(music_over)
					(set game_ended true)
					(set game_started false)
					(fade_out 0 0 0 20)
					(sleep 20)
					(enable_hud_help_flash false)
					(show_hud_help_text false)
					(show_hud 0)
					(cinematic_start)
					(sound_looping_predict quarantine\music\sound_looping\neverforget_electro)
					(sound_looping_start quarantine\music\sound_looping\neverforget_electro none 0.75)
					(ai_disregard (player0) true)
					(camera_control 1)
					(camera_set death_cam 0)
					(object_destroy dead_biped)
					(ai_kill teammate)
					(garbage_man)
					(sleep 30)
					(fade_in 0 0 0 90)
					(sleep 90)
					(object_create dead_buddy)
					(sleep 30)
					(sound_impulse_predict quarantine\music\sound\deathviolent 1)
					(sound_impulse_start quarantine\music\sound\deathviolent none 1) 
					(sleep 90)
					(cinematic_set_title the_end)
					(sleep 150)
					(fade_out 0 0 0 60)
					(sleep 60)
					(camera_set credits_1 1)
					(ai_erase_all)
					(object_pvs_set_camera ranking_cam)
					(fade_in 0 0 0 30)
					(camera_set credits_2 100)
					(sleep 50)
					(camera_set credits_3 100)
					(sleep 50)
					(camera_set credits_4 100)
					(sleep 50)
					(camera_set credits_5 100)
					(sleep 195)
					(fade_out 0 0 0 20)
					(sleep 20)
					(hud_set_objective_text game_over)
					(cinematic_stop)
					(player_enable_input 0)
					(object_create buddy)
					(camera_set ranking_cam 1)
					(fade_in 0 0 0 20)
					(cinematic_set_title your_rank_is)
					(if (= cheater false)
						(begin
							(if (= (game_difficulty_get_real) easy)
								(begin
									(if (and (>= waves 0) (<= waves 10))
										(begin
											(object_create rank_recruit)
											(cinematic_set_title recruit)
											(sleep 30)
											(cinematic_set_title easy)
										)
									)
									(if (and (> waves 10) (<= waves 20))
										(begin
											(object_create rank_private)
											(cinematic_set_title private)
											(sleep 30)
											(cinematic_set_title easy)
										)
									)
									(if (and (> waves 20) (<= waves 30))
										(begin
											(object_create rank_corporal)
											(cinematic_set_title corporal)
											(sleep 30)
											(cinematic_set_title easy)
										)
									)
									(if (and (> waves 30) (<= waves 40))
										(begin
											(object_create rank_sergeant)
											(cinematic_set_title sergeant)
											(sleep 30)
											(cinematic_set_title easy)
										)
									)
									(if (> waves 40)
										(begin
											(object_create rank_gunnery_sergeant)
											(cinematic_set_title gunnery_sergeant)
											(sleep 30)
											(cinematic_set_title easy)
										)
									)
								)
							)
							(if (= (game_difficulty_get_real) normal)
								(begin
									(if (and (>= waves 0) (<= waves 2))
										(begin
											(object_create rank_recruit)
											(cinematic_set_title recruit)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 2) (<= waves 4))
										(begin
											(object_create rank_private)
											(cinematic_set_title private)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 4) (<= waves 7))
										(begin
											(object_create rank_corporal)
											(cinematic_set_title corporal)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 7) (<= waves 10))
										(begin
											(object_create rank_sergeant)
											(cinematic_set_title sergeant)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 10) (<= waves 15))
										(begin
											(object_create rank_gunnery_sergeant)
											(cinematic_set_title gunnery_sergeant)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 15) (<= waves 20))
										(begin
											(object_create rank_lieutenant)
											(cinematic_set_title lieutenant)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 20) (<= waves 25))
										(begin
											(object_create rank_captain)
											(cinematic_set_title captain)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 25) (<= waves 30))
										(begin
											(object_create rank_major)
											(cinematic_set_title major)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 30) (<= waves 35))
										(begin
											(object_create rank_commander)
											(cinematic_set_title commander)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 35) (<= waves 40))
										(begin
											(object_create rank_colonel)
											(cinematic_set_title colonel)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (and (> waves 40) (<= waves 45))
										(begin
											(object_create rank_brigadier)
											(cinematic_set_title brigadier)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
									(if (> waves 45)
										(begin
											(object_create rank_general)
											(cinematic_set_title general)
											(sleep 30)
											(cinematic_set_title normal)
										)
									)
								)
							)
							(if (= (game_difficulty_get_real) hard)
								(begin
									(if (and (>= waves 0) (<= waves 2))
										(begin
											(object_create rank_recruit)
											(cinematic_set_title recruit)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 2) (<= waves 4))
										(begin
											(object_create rank_private)
											(cinematic_set_title private)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 4) (<= waves 6))
										(begin
											(object_create rank_corporal)
											(cinematic_set_title corporal)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 6) (<= waves 8))
										(begin
											(object_create rank_sergeant)
											(cinematic_set_title sergeant)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 8) (<= waves 10))
										(begin
											(object_create rank_gunnery_sergeant)
											(cinematic_set_title gunnery_sergeant)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 10) (<= waves 15))
										(begin
											(object_create rank_lieutenant)
											(cinematic_set_title lieutenant)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 15) (<= waves 20))
										(begin
											(object_create rank_captain)
											(cinematic_set_title captain)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 20) (<= waves 25))
										(begin
											(object_create rank_major)
											(cinematic_set_title major)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 25) (<= waves 30))
										(begin
											(object_create rank_commander)
											(cinematic_set_title commander)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 30) (<= waves 35))
										(begin
											(object_create rank_colonel)
											(cinematic_set_title colonel)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (and (> waves 35) (<= waves 40))
										(begin
											(object_create rank_brigadier)
											(cinematic_set_title brigadier)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
									(if (> waves 40)
										(begin
											(object_create rank_general)
											(cinematic_set_title general)
											(sleep 30)
											(cinematic_set_title heroic)
										)
									)
								)
							)
							(if (= (game_difficulty_get_real) impossible)
								(begin
									(if (and (>= waves 0) (<= waves 1))
										(begin
											(object_create rank_recruit)
											(cinematic_set_title recruit)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 1) (<= waves 2))
										(begin
											(object_create rank_private)
											(cinematic_set_title private)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 3) (<= waves 4))
										(begin
											(object_create rank_corporal)
											(cinematic_set_title corporal)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 4) (<= waves 5))
										(begin
											(object_create rank_sergeant)
											(cinematic_set_title sergeant)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 5) (<= waves 6))
										(begin
											(object_create rank_gunnery_sergeant)
											(cinematic_set_title gunnery_sergeant)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 6) (<= waves 8))
										(begin
											(object_create rank_lieutenant)
											(cinematic_set_title lieutenant)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 8) (<= waves 10))
										(begin
											(object_create rank_captain)
											(cinematic_set_title captain)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 10) (<= waves 15))
										(begin
											(object_create rank_major)
											(cinematic_set_title major)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 15) (<= waves 20))
										(begin
											(object_create rank_commander)
											(cinematic_set_title commander)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 20) (<= waves 25))
										(begin
											(object_create rank_colonel)
											(cinematic_set_title colonel)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (and (> waves 25) (<= waves 30))
										(begin
											(object_create rank_brigadier)
											(cinematic_set_title brigadier)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
									(if (> waves 30)
										(begin
											(object_create rank_general)
											(cinematic_set_title general)
											(sleep 30)
											(cinematic_set_title legendary)
										)
									)
								)
							)
						)
					)
					(if (= cheater true)
						(begin
							(object_create rank_cheater)
							(cinematic_set_title cheater_message)
						)
					)
				)
			)
			(if (> lives 0)
				(begin
					(cinematic_stop)
					(show_hud true)
					(fade_out 0 0 0 20)
					(sleep 20)
					(camera_set loadout_cam 0)
					(sleep 10)
					(fade_in 0 0 0 45)
					(sleep 20)
					(display_scenario_help 0)	
				)
			)
		)
	)
)
(script static void loadout_loader
	(if (= loadout 3)
		(player_add_equipment (player0) loadout3 true)
	)
	(if (= loadout 2)
		(player_add_equipment (player0) loadout2 true)
	)
	(if (= loadout 1)
		(player_add_equipment (player0) loadout1 true)
	)
)
(script static void continue_life_lost
	(player_enable_input 0)
	(ai_disregard (player0) true)
	(fade_out 0 0 0 80)
	(sound_impulse_predict sound\sfx\ui\countdown_for_respawn 1)
	(sleep 20)
	(sound_impulse_start sound\sfx\ui\countdown_for_respawn none 1)
	(sleep 30)
	(sound_impulse_start sound\sfx\ui\countdown_for_respawn none 1)
	(sleep 30)
	(sound_impulse_start sound\sfx\ui\countdown_for_respawn none 1)
	(object_create_anew spawnball)
	(objects_attach (player0) "" spawnball "")
	(objects_detach (player0) spawnball)
	(sleep 20)
	(sound_impulse_predict sound\sfx\ui\player_respawn 1)
	(if (<= waves 10)
		(begin
			(object_teleport (player0) respawn_flag_1)
		)
	)
	(if (> waves 10)
		(begin
			(object_teleport (player0) respawn_flag_2)
		)
	)
	(ai_set_blind infections_1-10 false)
	(ai_set_blind infections_11-51 false)
	(ai_set_blind carriers_1-10 false)
	(ai_set_blind carriers_11-51 false)
	(camera_control 0)
	(show_hud false)
	(fade_in 0 0 0 20)
	(lives_counter)
	(sleep 10)
	(sound_impulse_start sound\sfx\ui\player_respawn none 1)
	(sleep 10)
	(player_add_equipment (player0) maiballs false)
	(cinematic_show_letterbox 0)
	(sleep 15)
	(player_add_equipment (player0) empty true)
	(sleep 15)
	(loadout_loader)
	(sound_impulse_predict sound\sfx\ui\countdown_timer_end 1)
	(if (< lives 16)
		(begin
			(set explosion_blocker true)
			(set explosion_one_life false)
			(unit_set_desired_flashlight_state (player0) true)
			(set explosion_blocker false)
		)
	)
	(sound_impulse_start sound\sfx\ui\countdown_timer_end none 1)
	(show_hud true)
	(player_enable_input 1)
	(player_camera_control 1)
	(ai_disregard (player0) false)
	(sleep 120)
	(object_can_take_damage (player0))
	(set enemies_see_me true)
)
(script static void setloadout1
	(set loadout 1)
	(continue_life_lost)
)
(script static void setloadout2
	(set loadout 2)
	(continue_life_lost)
)
(script static void setloadout3
	(set loadout 3)
	(continue_life_lost)
)
(script static void outside_doors_open
	(device_operates_automatically_set outside_door_1 true)
	(device_operates_automatically_set outside_door_2 true)
	(device_operates_automatically_set outside_door_3 true)
)
(script static void outside_doors_close
	(device_set_position outside_door_1 0)
	(device_set_position outside_door_2 0)
	(device_set_position outside_door_3 0) 
	(device_operates_automatically_set outside_door_1 false)
	(device_operates_automatically_set outside_door_2 false)
	(device_operates_automatically_set outside_door_3 false)
)
(script static void ammo_drop
	(if (= kill_messages false)
		(cinematic_set_title ammo_spawned)
	)
	(object_destroy_containing coviegun_)
	(object_destroy_containing ammo_)
	(effect_new quarantine\effects\boom coviegun_flag_1)
	(effect_new quarantine\effects\boom coviegun_flag_2)
	(effect_new quarantine\effects\boom coviegun_flag_3)
	(effect_new quarantine\effects\boom coviegun_flag_4)
	(effect_new quarantine\effects\boom ammo_flag_1)
	(effect_new quarantine\effects\boom ammo_flag_2)
	(object_create_anew_containing coviegun_)
	(object_create_anew_containing ammo_)
	(activate_team_nav_point_flag item player ammo_flag_1 0.5)
	(activate_team_nav_point_flag item player ammo_flag_2 0.5)
	(sleep 150)
	(deactivate_team_nav_point_flag player ammo_flag_1)
	(deactivate_team_nav_point_flag player ammo_flag_2)
)
(script static void weapon_drop
	(if (= kill_messages false)
		(cinematic_set_title item_spawned)
	)
	(object_destroy_containing spawngun_)
	(if (or (= weapondropvalue 0) (= weapondropvalue 1))
		(begin
			(if (= spawngun_socom 1)
				(object_create_anew spawngun_socom_1)
			)
			(if (= spawngun_socom 2)
				(object_create_anew spawngun_socom_2)
			)
			(if (= spawngun_socom 3)
				(object_create_anew spawngun_socom_3)
			)
			(if (= spawngun_socom 4)
				(begin
					(object_create_anew spawngun_socom_4)
					(set spawngun_socom 1)
				)
			)
			(set spawngun_socom (+ spawngun_socom 1))
		)
	)
	(if (= weapondropvalue 2)
		(begin
			(if (= spawngun_smg 1)
				(object_create_anew spawngun_smg_1)
			)
			(if (= spawngun_smg 2)
				(object_create_anew spawngun_smg_2)
			)
			(if (= spawngun_smg 3)
				(object_create_anew spawngun_smg_3)
			)
			(if (= spawngun_smg 4)
				(begin
					(object_create_anew spawngun_smg_4)
					(set spawngun_smg 1)
				)
			)
			(set spawngun_smg (+ spawngun_smg 1))
		)
	)
	(if (= weapondropvalue 3)
		(begin
			(if (= spawngun_ar 1)
				(object_create_anew spawngun_ar_1)
			)
			(if (= spawngun_ar 2)
				(object_create_anew spawngun_ar_2)
			)
			(if (= spawngun_ar 3)
				(object_create_anew spawngun_ar_3)
			)
			(if (= spawngun_ar 4)
				(begin
					(object_create_anew spawngun_ar_4)
					(set spawngun_ar 1)
				)
			)
			(set spawngun_ar (+ spawngun_ar 1))
		)
	)
	(if (= weapondropvalue 4)
		(begin
			(if (= spawngun_br 1)
				(object_create_anew spawngun_br_1)
			)
			(if (= spawngun_br 2)
				(object_create_anew spawngun_br_2)
			)
			(if (= spawngun_br 3)
				(object_create_anew spawngun_br_3)
			)
			(if (= spawngun_br 4)
				(begin
					(object_create_anew spawngun_br_4)
					(set spawngun_br 1)
				)
			)
			(set spawngun_br (+ spawngun_br 1))
		)
	)
	(if (= weapondropvalue 5)
		(begin
			(if (= spawngun_tar 1)
				(object_create_anew spawngun_tar_1)
			)
			(if (= spawngun_tar 2)
				(object_create_anew spawngun_tar_2)
			)
			(if (= spawngun_tar 3)
				(object_create_anew spawngun_tar_3)
			)
			(if (= spawngun_tar 4)
				(begin
					(object_create_anew spawngun_tar_4)
					(set spawngun_tar 1)
				)
			)
			(set spawngun_tar (+ spawngun_tar 1))
		)
	)
	(if (= weapondropvalue 6)
		(begin
			(if (= spawngun_tbr 1)
				(object_create_anew spawngun_tbr_1)
			)
			(if (= spawngun_tbr 2)
				(object_create_anew spawngun_tbr_2)
			)
			(if (= spawngun_tbr 3)
				(object_create_anew spawngun_tbr_3)
			)
			(if (= spawngun_tbr 4)
				(begin
					(object_create_anew spawngun_tbr_4)
					(set spawngun_tbr 1)
				)
			)
			(set spawngun_tbr (+ spawngun_tbr 1))
		)
	)
	(if (= weapondropvalue 7)
		(begin
			(if (= spawngun_sg 1)
				(object_create_anew spawngun_sg_1)
			)
			(if (= spawngun_sg 2)
				(object_create_anew spawngun_sg_2)
			)
			(if (= spawngun_sg 3)
				(object_create_anew spawngun_sg_3)
			)
			(if (= spawngun_sg 4)
				(begin
					(object_create_anew spawngun_sg_4)
					(set spawngun_sg 1)
				)
			)
			(set spawngun_sg (+ spawngun_sg 1))
		)
	)
	(if (= weapondropvalue 8)
		(begin
			(if (= spawngun_sr 1)
				(object_create_anew spawngun_sr_1)
			)
			(if (= spawngun_sr 2)
				(object_create_anew spawngun_sr_2)
			)
			(if (= spawngun_sr 3)
				(object_create_anew spawngun_sr_3)
			)
			(if (= spawngun_sr 4)
				(begin
					(object_create_anew spawngun_sr_4)
					(set spawngun_sr 1)
				)
			)
			(set spawngun_sr (+ spawngun_sr 1))
		)
	)
	(if (= weapondropvalue 9)
		(begin
			(if (= spawngun_ft 1)
				(object_create_anew spawngun_ft_1)
			)
			(if (= spawngun_ft 2)
				(object_create_anew spawngun_ft_2)
			)
			(if (= spawngun_ft 3)
				(object_create_anew spawngun_ft_3)
			)
			(if (= spawngun_ft 4)
				(begin
					(object_create_anew spawngun_ft_4)
					(set spawngun_ft 1)
				)
			)
			(set spawngun_ft (+ spawngun_ft 1))
		)
	)
	(if (= weapondropvalue 10)
		(begin
			(if (= spawngun_sl 1)
				(object_create_anew spawngun_sl_1)
			)
			(if (= spawngun_sl 2)
				(object_create_anew spawngun_sl_2)
			)
			(if (= spawngun_sl 3)
				(object_create_anew spawngun_sl_3)
			)
			(if (= spawngun_sl 4)
				(begin
					(object_create_anew spawngun_sl_4)
					(set spawngun_sl 1)
				)
			)
			(set spawngun_sl (+ spawngun_sl 1))
		)
	)
	(if (= weapondropvalue 11)
		(begin
			(if (= spawngun_health 1)
				(object_create_anew spawngun_health_1)
			)
			(if (= spawngun_health 2)
				(begin
					(object_create_anew spawngun_health_2)
					(set spawngun_health 0)
				)
			)
			(set spawngun_health (+ spawngun_health 1))
		)
	)
	(if (= weapondropvalue 12)
		(begin
			(if (= spawngun_frag 1)
				(object_create_anew spawngun_frag_1)
			)
			(if (= spawngun_frag 2)
				(begin
					(object_create_anew spawngun_frag_2)
					(set spawngun_frag 0)
				)
			)
			(set spawngun_frag (+ spawngun_frag 1))
		)
	)
	(effect_new quarantine\effects\boom spawngun_flag)
	(activate_team_nav_point_flag item player spawngun_flag 0.5)
	(sleep 180)
	(deactivate_team_nav_point_flag player spawngun_flag)
)
(script static void weapon_drop_powerweps
	(if (= kill_messages false)
		(cinematic_set_title power_weapon_spawned)
	)
	(object_destroy_containing spawngun_)
	(if (or (= weapondropvalue 0) (= weapondropvalue 1) (= weapondropvalue 4) (= weapondropvalue 7) (= weapondropvalue 10))
		(begin
			(if (= spawngun_fr 1)
				(object_create_anew spawngun_fr_1)
			)
			(if (= spawngun_fr 2)
				(object_create_anew spawngun_fr_2)
			)
			(if (= spawngun_fr 3)
				(object_create_anew spawngun_fr_3)
			)
			(if (= spawngun_fr 4)
				(begin
					(object_create_anew spawngun_fr_4)
					(set spawngun_fr 1)
				)
			)
			(set spawngun_fr (+ spawngun_fr 1))
		)
	)
	(if (or (= weapondropvalue 2) (= weapondropvalue 5) (= weapondropvalue 8) (= weapondropvalue 11))
		(begin
			(if (= spawngun_rl 1)
				(object_create_anew spawngun_rl_1)
			)
			(if (= spawngun_rl 2)
				(object_create_anew spawngun_rl_2)
			)
			(if (= spawngun_rl 3)
				(object_create_anew spawngun_rl_3)
			)
			(if (= spawngun_rl 4)
				(begin
					(object_create_anew spawngun_rl_4)
					(set spawngun_rl 1)
				)
			)
			(set spawngun_rl (+ spawngun_rl 1))
		)
	)
	(if (or (= weapondropvalue 3) (= weapondropvalue 6) (= weapondropvalue 9) (= weapondropvalue 12))
		(begin
			(if (= spawngun_badass 1)
				(object_create_anew spawngun_badass_1)
			)
			(if (= spawngun_badass 2)
				(object_create_anew spawngun_badass_2)
			)
			(if (= spawngun_badass 3)
				(object_create_anew spawngun_badass_3)
			)
			(if (= spawngun_badass 4)
				(begin
					(object_create_anew spawngun_badass_4)
					(set spawngun_badass 1)
				)
			)
			(set spawngun_badass (+ spawngun_badass 1))
		)
	)
	(effect_new quarantine\effects\boom spawngun_flag)
	(activate_team_nav_point_flag item player spawngun_flag 0.5)
	(sleep 180)
	(deactivate_team_nav_point_flag player spawngun_flag)
)
(script static void wave_over	
	(sleep_until
		(and
			(= (ai_living_count combatforms_1-10) 0)
			(= (ai_living_count combatforms_11-33) 0)
			(= (ai_living_count combatforms_34-44) 0)
			(= (ai_living_count combatforms_45-51) 0)
		)
	)
	(set ai_dead true)
	(if (= kill_messages false)
		(begin
			(show_hud_help_text true)
			(hud_set_help_text wave_complete)
			(sleep 150)
			(show_hud_help_text false)
		)
	)
)
(script static void clorox_eyes
	(cinematic_screen_effect_start true)
	(cinematic_screen_effect_set_convolution 1 1 2 0 5)
	(cinematic_screen_effect_start false)
)
(script static void transition_in
	(sleep 10)
	(fade_in 0 0 0 20)
	(sleep 20)
)
(script static void transition_out
	(fade_out 0 0 0 10)
	(sleep 10)
)
(script startup easter
	(sleep_until (= (device_get_position easter_start_panel) 1))
	(sleep 30)
	(set cheater true)
	(effect_new quarantine\effects\boom start_game_flag)
	(object_destroy start_game_panel)
	(effect_new quarantine\effects\boom game_overview_flag)
	(object_destroy game_overview_panel)
	(deactivate_team_nav_point_flag player start_game_flag)
	(deactivate_team_nav_point_flag player game_overview_flag)
	(effect_new quarantine\effects\boom easter_start_flag)
	(object_destroy easter_start_panel)
	(effect_new quarantine\effects\boom unlock_door_flag_1)
	(effect_new quarantine\effects\boom unlock_door_flag_2)
	(effect_new quarantine\effects\boom unlock_door_flag_3)
	(effect_new quarantine\effects\boom unlock_door_flag_4)
	(effect_new quarantine\effects\boom unlock_door_flag_5)
	(object_destroy_containing unlock_door_)
	(set happy_easter true)
	(show_hud_help_text true)
	(enable_hud_help_flash true)
	(hud_set_help_text easter)
	(hud_set_objective_text easter)
	(sleep 150)
	(enable_hud_help_flash false)
	(show_hud_help_text false)
	(object_create_containing egg_)
	(sleep_until (= egg_panels 5))
	(effect_new quarantine\effects\boom asskicker_flag)
	(object_create asskicker)
	(activate_team_nav_point_flag easter_egg player asskicker_flag 0.5)
	(sleep_until (unit_has_weapon (player0) goldeneye))
	(deactivate_team_nav_point_flag player asskicker_flag)
	(player_enable_input 0)
	(fade_out 1 1 1 5)
	(sleep 5)
	(object_teleport (player0) starting_flag)
	(sound_impulse_predict sound\sfx\ui\teleporter_activate 1)
	(sleep 15)
	(sound_impulse_start sound\sfx\ui\teleporter_activate none 1)
	(fade_in 1 1 1 5)
	(sleep 5)
	(player_enable_input 1)
	(set happy_easter false)
	(effect_new quarantine\effects\boom unlock_door_flag_1)
	(effect_new quarantine\effects\boom unlock_door_flag_2)
	(effect_new quarantine\effects\boom unlock_door_flag_3)
	(effect_new quarantine\effects\boom unlock_door_flag_4)
	(effect_new quarantine\effects\boom unlock_door_flag_5)
	(object_create_containing unlock_door_)
	(hud_set_objective_text welcome)
	(if (= tutorial_completed false)
		(begin
			(effect_new quarantine\effects\boom game_overview_flag)
			(object_create_anew game_overview_panel)
			(activate_team_nav_point_flag default player game_overview_flag 0.3)
			(effect_new quarantine\effects\boom start_game_flag)
			(object_create_anew start_game_panel)
			(activate_team_nav_point_flag default player start_game_flag 0.3)
		)
	)
	(if (= tutorial_completed true)
		(begin
			(effect_new quarantine\effects\boom start_game_flag)
			(object_create_anew start_game_panel)
			(activate_team_nav_point_flag default player start_game_flag 0.3)
		)
	)
	(if (= classic_weapons false)
		(effect_new quarantine\effects\boom easter_weapons_flag)
	)
	(object_destroy_containing easter_)
	(object_create_anew real_door)
)
(script startup game_overview
	(sleep_until (= (device_get_position game_overview_panel) 1))
	(object_cannot_take_damage (player0))
	(sleep 60)
	(set kill_messages true)
	(effect_new quarantine\effects\boom game_overview_flag)
	(effect_new quarantine\effects\boom start_game_flag)
	(effect_new quarantine\effects\boom unlock_door_flag_1)
	(effect_new quarantine\effects\boom unlock_door_flag_2)
	(effect_new quarantine\effects\boom unlock_door_flag_3)
	(effect_new quarantine\effects\boom unlock_door_flag_4)
	(effect_new quarantine\effects\boom unlock_door_flag_5)
	(object_destroy game_overview_panel)
	(object_destroy start_game_panel)
	(object_destroy_containing unlock_door_)
	(deactivate_team_nav_point_flag player start_game_flag)
	(deactivate_team_nav_point_flag player game_overview_flag)
	(player_enable_input 0)
	(fade_out 0 0 0 20)
	(sleep 20)
	(camera_control 1)
	(object_teleport (player0) teleport_flag)
	(cinematic_start)
	(player_action_test_reset)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set loadout_cam 0)
			(transition_in)
			(cinematic_set_title overview_welcome)
			(sleep 150)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_start 0)
			(transition_in)
			(effect_new quarantine\effects\boom start_game_flag)
			(object_create_anew start_game_panel)
			(cinematic_set_title overview_start)
			(sleep 120)
			(effect_new quarantine\effects\boom start_game_flag)
			(object_destroy start_game_panel)
			(sleep 30)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_waves 0)
			(transition_in)
			(ai_place tutorial/flood_encounter_1)
			(cinematic_set_title overview_waves)
			(sleep 150)
			(ai_place tutorial/flood_encounter_2)
			(cinematic_set_title overview_survive)
			(sleep 150)
			(ai_erase tutorial)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(object_create_anew unlock_door_2)
			(object_create_anew unlock_door_5)
			(camera_set tut_unlocked 0)
			(transition_in)
			(cinematic_set_title overview_unlocked)
			(sleep 90)
			(effect_new quarantine\effects\boom unlock_door_flag_2)
			(effect_new quarantine\effects\boom unlock_door_flag_5)
			(object_destroy unlock_door_2)
			(object_destroy unlock_door_5)
			(sleep 60)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(object_create tut_elite)
			(camera_set tut_challenge 0)
			(transition_in)
			(cinematic_set_title overview_challenge)
			(sleep 150)
			(cinematic_set_title overview_lives)
			(sleep 150)
			(transition_out)
			(object_destroy tut_elite)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_panel_2 0)
			(transition_in)
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_create_anew call_reinforcements_panel)
			(cinematic_set_title overview_panel)
			(sleep 120)
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_destroy call_reinforcements_panel)
			(sleep 30)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(object_create tut_odst)
			(camera_set tut_reinforcements 0)
			(transition_in)
			(cinematic_set_title overview_reinforcements)
			(sleep 150)
			(transition_out)
			(object_destroy tut_odst)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_panel_1 0)
			(transition_in)
			(effect_new quarantine\effects\boom missing_flag)
			(object_create_anew end_wave_panel)
			(cinematic_set_title overview_missing)
			(sleep 120)
			(effect_new quarantine\effects\boom missing_flag)
			(object_destroy end_wave_panel)
			(sleep 30)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(ai_place tutorial/flood_carrier)
			(camera_set tut_cowardly 0)
			(transition_in)
			(cinematic_set_title overview_cowardly)
			(sleep 60)
			(ai_kill tutorial)
			(sleep 90)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set loadout_cam 0)
			(transition_in)	
			(cinematic_set_title overview_ammo)
			(sleep 150)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_racks 0)
			(transition_in)
			(cinematic_set_title overview_racks)
			(sleep 150)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_crates 0)
			(transition_in)
			(cinematic_set_title overview_crates)
			(sleep 150)
			(transition_out)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set tut_orb 0)
			(transition_in)
			(cinematic_set_title overview_orb)
			(sleep 30)
			(effect_new quarantine\effects\boom spawngun_flag)
			(object_create_anew spawngun_sg_1)
			(sleep 120)
			(transition_out)
			(object_destroy spawngun_sg_1)
		)
	)
	(if (= (player_action_test_back) false)
		(begin
			(camera_set loadout_cam 0)
			(transition_in)
			(cinematic_set_title overview_music)
			(sleep 150)
			(cinematic_set_title overview_enjoy)
			(sleep 150)
			(transition_out)
		)
	)
	(sleep 30)
	(object_teleport (player0) overview_complete_flag)
	(camera_control 0)
	(cinematic_stop)
	(player_enable_input 1)
	(fade_in 0 0 0 20)
	(object_can_take_damage (player0))
	(effect_new quarantine\effects\boom start_game_flag)
	(effect_new quarantine\effects\boom unlock_door_flag_1)
	(effect_new quarantine\effects\boom unlock_door_flag_2)
	(effect_new quarantine\effects\boom unlock_door_flag_3)
	(effect_new quarantine\effects\boom unlock_door_flag_4)
	(effect_new quarantine\effects\boom unlock_door_flag_5)
	(object_create_anew start_game_panel)
	(object_create_anew_containing unlock_door_)
	(activate_team_nav_point_flag default player start_game_flag 0.3)
	(set kill_messages false)
	(set tutorial_completed true)
	(player_action_test_reset)
)
(script dormant quarantine
	(cinematic_show_letterbox true)
	(show_hud false)
	(cinematic_screen_effect_start true)
	(cinematic_screen_effect_set_convolution 1 1 2 0 5)
	(cinematic_screen_effect_start false)
	(cinematic_set_title welcome_to_quarantine)
	(sleep 150)
	(cinematic_show_letterbox false)
	(cinematic_stop)
	(activate_team_nav_point_flag default player start_game_flag 0.3)
	(activate_team_nav_point_flag default player game_overview_flag 0.3)
	(cinematic_set_title look_around)
	(show_hud true)
	(sleep_until (= (device_get_position start_game_panel) 1))
	(effect_new quarantine\effects\boom easter_start_flag)
	(effect_new quarantine\effects\boom easter_weapons_flag)
	(effect_new quarantine\effects\boom easter_ramp_flag)
	(effect_new quarantine\effects\boom game_overview_flag)
	(object_destroy_containing easter_)
	(object_destroy game_overview_panel)
	(object_create_anew real_door)
	(device_operates_automatically_set inside_door_1 false)
	(device_operates_automatically_set inside_door_2 false)
	(outside_doors_close)
	(sleep 30)
	(set game_started true)
	(set explosion_one_life false)
	(unit_set_desired_flashlight_state (player0) true)
	(hud_set_objective_text obj)
	(effect_new quarantine\effects\boom start_game_flag)
	(object_destroy start_game_panel)
	(deactivate_team_nav_point_flag player start_game_flag)
	(deactivate_team_nav_point_flag player game_overview_flag)
	(set waves (+ waves 1))
	(lives_calculator)
	(lives_counter)
	(wave_counter)
	(ai_place combatforms_1-10/wave_1_p1)
	(set ai_dead false)
	(show_hud_help_text true)
	(enable_hud_help_flash true)
	(hud_set_help_text detonation_1)
	(sleep 150)
	(hud_set_help_text detonation_2)
	(sleep 150)
	(enable_hud_help_flash false)
	(show_hud_help_text false)
	(sleep 60)
	(wave_over)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_1)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_1)
	(object_create flood_pod_destroyed_1)
	(ai_place infections_1-10/flood_pod_infections_1)
	(ai_place combatforms_1-10/wave_2_p1)
	(ai_place carriers_1-10/carrier_2)
	(ai_place carriers_1-10/carrier_4)
	(set ai_dead false)
	(sleep 60)
	(wave_over)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_1-10/wave_3_p1)
	(ai_place carriers_1-10/carrier_3)
	(set ai_dead false)
	(sleep 60)
	(wave_over)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_2)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_2)
	(object_create flood_pod_destroyed_2)
	(ai_place infections_1-10/flood_pod_infections_2)
	(ai_place combatforms_1-10/wave_4_p1)
	(ai_place carriers_1-10/carrier_1)
	(ai_place carriers_1-10/carrier_5)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 2))
	(sleep 60)
	(ai_place combatforms_1-10/wave_4_p2)
	(wave_over)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_1-10/wave_5_p1)
	(ai_place carriers_1-10/carrier_1)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_5_p2)
	(ai_place carriers_1-10/carrier_3)
	(wave_over)
	(garbage_man)
	(ammo_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_3)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_3)
	(object_create flood_pod_destroyed_3)
	(ai_place infections_1-10/flood_pod_infections_3)
	(ai_place combatforms_1-10/wave_6_p1)
	(ai_place carriers_1-10/carrier_4)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_6_p2)
	(wave_over)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_1-10/wave_7_p1)
	(ai_place carriers_1-10/carrier_2)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_7_p2)
	(ai_place carriers_1-10/carrier_5)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_7_p3)
	(wave_over)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_4)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_4)
	(object_create flood_pod_destroyed_4)
	(ai_place infections_1-10/flood_pod_infections_4)
	(ai_place combatforms_1-10/wave_8_p1)
	(ai_place carriers_1-10/carrier_4)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_8_p2)
	(ai_place carriers_1-10/carrier_3)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_8_p3)
	(ai_place carriers_1-10/carrier_2)
	(wave_over)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_1-10/wave_9_p1)
	(ai_place carriers_1-10/carrier_2)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_9_p2)
	(sleep_until (<= (ai_living_count combatforms_1-10) 4))
	(sleep 60)
	(ai_place combatforms_1-10/wave_9_p3)
	(ai_place carriers_1-10/carrier_5)
	(wave_over)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_5)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_5)
	(object_create flood_pod_destroyed_5)
	(ai_place infections_1-10/flood_pod_infections_5)
	(ai_place combatforms_1-10/wave_10_p1)
	(ai_place carriers_1-10/carrier_4)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_10_p2)
	(ai_place carriers_1-10/carrier_3)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_10_p3)
	(ai_place carriers_1-10/carrier_1)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/wave_10_p4)
	(wave_over)
	(garbage_man)
	(weapon_drop)
	(ammo_drop)
	(sleep 150)
	(ai_kill infections_1-10)
	(ai_kill carriers_1-10)
	(set challenge_wave true)
	(set no_lives_lost true)
	(if (= kill_messages false)
		(begin
			(cinematic_set_title lives_suspended)
			(show_hud_help_text true)
			(hud_set_help_text challenge_wave_1)
			(enable_hud_help_flash true)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
	(ai_place combatforms_1-10/challenge_wave_1_p1)
	(ai_place carriers_1-10/carrier_2_camo)
	(ai_place carriers_1-10/carrier_4_camo)
	(set ai_dead false)
	(sleep_until (<= (ai_living_count combatforms_1-10) 3))
	(sleep 60)
	(ai_place combatforms_1-10/challenge_wave_1_p2)
	(sleep_until (<= (ai_living_count combatforms_1-10) 4))
	(sleep 60)
	(ai_place combatforms_1-10/challenge_wave_1_p3)
	(ai_place carriers_1-10/carrier_3_camo) 
	(sleep_until (<= (ai_living_count combatforms_1-10) 5))
	(sleep 60)
	(ai_place combatforms_1-10/challenge_wave_1_p4)
	(ai_place carriers_1-10/carrier_1_camo)
	(ai_place carriers_1-10/carrier_5_camo)
	(wave_over)
	(set challenge_wave false)
	(ai_kill infections_1-10)
	(ai_kill carriers_1-10)
	(garbage_man)
	(set lives (+ lives 1))
	(set no_lives_lost false)
	(if (= kill_messages false)
		(begin
			(lives_counter)
			(cinematic_set_title life_granted)
			(cinematic_set_title lives_resumed)
		)
	)
	(sleep 150)
	(if (= classic_weapons true)
		(object_create_anew_containing classic_)
	)
	(weapon_drop_powerweps)
	(effect_new quarantine\effects\boom unlock_door_flag_1)
	(effect_new quarantine\effects\boom unlock_door_flag_2)
	(effect_new quarantine\effects\boom unlock_door_flag_3)
	(effect_new quarantine\effects\boom unlock_door_flag_4)
	(effect_new quarantine\effects\boom unlock_door_flag_5)
	(object_destroy_containing unlock_door_)
	(activate_team_nav_point_flag default player unlock_flag 0.3)
	(if (= kill_messages false)
		(begin
			(show_hud_help_text true)
			(enable_hud_help_flash true)
			(hud_set_help_text outside_unlocked)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
	(deactivate_team_nav_point_flag player unlock_flag)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_11_p1)
	(ai_place carriers_11-51/carrier_3)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_6)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_6)
	(object_create flood_pod_destroyed_6)
	(ai_place infections_11-51/flood_pod_infections_6)
	(ai_place combatforms_11-33/wave_12_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_13_p1)
	(ai_place carriers_11-51/carrier_6)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_7)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_7)
	(object_create flood_pod_destroyed_7)
	(ai_place infections_11-51/flood_pod_infections_7)
	(ai_place combatforms_11-33/wave_14_p1)
	(ai_place carriers_11-51/carrier_2)
	(ai_place carriers_11-51/carrier_4)
	(ai_place carriers_11-51/carrier_7)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_15_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(ammo_drop)
	(if (= (game_difficulty_get_real) impossible)
		(begin
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_create_anew call_reinforcements_panel)
			(activate_team_nav_point_flag default player reinforcements_flag 0.3)
			(if (= kill_messages false)
				(begin
					(show_hud_help_text true)
					(enable_hud_help_flash true)
					(hud_set_help_text reinforcements_unlocked)
					(sleep 150)
					(enable_hud_help_flash false)
					(show_hud_help_text false)
				)
			)
			(deactivate_team_nav_point_flag player reinforcements_flag)
		)
	)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_8)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_8)
	(object_create flood_pod_destroyed_8)
	(ai_place infections_11-51/flood_pod_infections_8)
	(ai_place combatforms_11-33/wave_16_p1)
	(ai_place carriers_11-51/carrier_3)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_17_p1)
	(ai_place carriers_11-51/carrier_1)
	(ai_place carriers_11-51/carrier_5)
	(ai_place carriers_11-51/carrier_7)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 8))
	(sleep 60)
	(ai_place combatforms_11-33/wave_17_p2)
	(ai_place carriers_11-51/carrier_3)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_9)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_9)
	(object_create flood_pod_destroyed_9)
	(ai_place infections_11-51/flood_pod_infections_9)
	(ai_place combatforms_11-33/wave_18_p1)
	(ai_place carriers_11-51/carrier_7)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep 60)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_19_p1)
	(ai_place carriers_11-51/carrier_3)
	(ai_place carriers_11-51/carrier_6)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 8))
	(sleep 60)
	(ai_place combatforms_11-33/wave_19_p2)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_10)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_10)
	(object_create flood_pod_destroyed_10)
	(ai_place infections_11-51/flood_pod_infections_10)
	(ai_place combatforms_11-33/wave_20_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_20_p2)
	(ai_place carriers_11-51/carrier_2)
	(ai_place carriers_11-51/carrier_4)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(ammo_drop)
	(sleep 150)
	(ai_kill infections_1-10)
	(ai_kill carriers_1-10)
	(ai_kill infections_11-51)
	(ai_kill carriers_11-51)
	(set challenge_wave true)
	(set no_lives_lost true)
	(if (= kill_messages false)
		(begin
			(cinematic_set_title lives_suspended)
			(show_hud_help_text true)
			(hud_set_help_text challenge_wave_2)
			(enable_hud_help_flash true)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
	(ai_place combatforms_11-33/challenge_wave_2_p1)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 5) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/challenge_wave_2_p2)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 6) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/challenge_wave_2_p3)
	(outside_doors_open)
	(wave_over)
	(set challenge_wave false)
	(outside_doors_close)
	(garbage_man)
	(set lives (+ lives 1))
	(set no_lives_lost false)
	(if (= kill_messages false)
		(begin
			(lives_counter)
			(cinematic_set_title life_granted)
			(cinematic_set_title lives_resumed)
		)
	)
	(sleep 150)
	(if (= classic_weapons true)
		(object_create_anew_containing classic_)
	)
	(weapon_drop_powerweps)
	(if (= (game_difficulty_get_real) hard)
		(begin
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_create_anew call_reinforcements_panel)
			(activate_team_nav_point_flag default player reinforcements_flag 0.3)
			(if (= kill_messages false)
				(begin
					(show_hud_help_text true)
					(enable_hud_help_flash true)
					(hud_set_help_text reinforcements_unlocked)
					(sleep 150)
					(enable_hud_help_flash false)
					(show_hud_help_text false)
				)
			)
			(deactivate_team_nav_point_flag player reinforcements_flag)
		)
	)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_21_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_21_p2)
	(ai_place carriers_11-51/carrier_3)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_11)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_11)
	(object_create flood_pod_destroyed_11)
	(ai_place infections_11-51/flood_pod_infections_11)
	(ai_place combatforms_11-33/wave_22_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_22_p2)
	(ai_place carriers_11-51/carrier_1)
	(ai_place carriers_11-51/carrier_5)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_23_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_23_p2)
	(ai_place carriers_11-51/carrier_2)
	(ai_place carriers_11-51/carrier_4)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_23_p3)
	(ai_place carriers_11-51/carrier_3)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_12)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_12)
	(object_create flood_pod_destroyed_12)
	(ai_place infections_11-51/flood_pod_infections_12)
	(ai_place combatforms_11-33/wave_24_p1)
	(ai_place carriers_11-51/carrier_7)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_24_p2)
	(ai_place carriers_11-51/carrier_6)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_24_p3)
	(ai_place carriers_11-51/carrier_3_camo)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_25_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_25_p2)
	(sleep_until (<= (ai_living_count combatforms_11-33) 11))
	(sleep 60)
	(ai_place combatforms_11-33/wave_25_p3)
	(ai_place carriers_11-51/carrier_2)
	(ai_place carriers_11-51/carrier_4)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(ammo_drop)
	(if (= (game_difficulty_get_real) normal)
		(begin
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_create_anew call_reinforcements_panel)
			(activate_team_nav_point_flag default player reinforcements_flag 0.3)
			(if (= kill_messages false)
				(begin
					(show_hud_help_text true)
					(enable_hud_help_flash true)
					(hud_set_help_text reinforcements_unlocked)
					(sleep 150)
					(enable_hud_help_flash false)
					(show_hud_help_text false)
				)
			)
			(deactivate_team_nav_point_flag player reinforcements_flag)
		)
	)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_13)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_13)
	(object_create flood_pod_destroyed_13)
	(ai_place infections_11-51/flood_pod_infections_13)
	(ai_place combatforms_11-33/wave_26_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 11) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_26_p2)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 12))
	(sleep 60)
	(ai_place combatforms_11-33/wave_26_p3)
	(ai_place carriers_11-51/carrier_1)
	(ai_place carriers_11-51/carrier_5)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_27_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_27_p2)
	(ai_place carriers_11-51/carrier_3_camo)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_27_p3)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_14)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_14)
	(object_create flood_pod_destroyed_14)
	(ai_place infections_11-51/flood_pod_infections_14)
	(ai_place combatforms_11-33/wave_28_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_28_p2)
	(ai_place carriers_11-51/carrier_6)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 11) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_28_p3)
	(ai_place carriers_11-51/carrier_2)
	(ai_place carriers_11-51/carrier_4)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_29_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_29_p2)
	(ai_place carriers_11-51/carrier_5)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_29_p3)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_29_p4)
	(ai_place carriers_11-51/carrier_1)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_15)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_15)
	(object_create flood_pod_destroyed_15)
	(ai_place infections_11-51/flood_pod_infections_15)
	(ai_place combatforms_11-33/wave_30_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 10))
	(sleep 60)
	(ai_place combatforms_11-33/wave_30_p2)
	(ai_place carriers_11-51/carrier_2)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_30_p3)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 11))
	(sleep 60)
	(ai_place combatforms_11-33/wave_30_p4)
	(ai_place carriers_11-51/carrier_5)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(ammo_drop)
	(sleep 150)
	(ai_kill infections_1-10)
	(ai_kill carriers_1-10)
	(ai_kill infections_11-51)
	(ai_kill carriers_11-51)
	(set challenge_wave true)
	(set no_lives_lost true)
	(if (= kill_messages false)
		(begin
			(cinematic_set_title lives_suspended)
			(show_hud_help_text true)
			(hud_set_help_text challenge_wave_3)
			(enable_hud_help_flash true)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
	(ai_place combatforms_11-33/challenge_wave_3_p1)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/challenge_wave_3_p2)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 11))
	(sleep 60)
	(ai_place combatforms_11-33/challenge_wave_3_p3)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/challenge_wave_3_p4)
	(outside_doors_open)
	(wave_over)
	(set challenge_wave false)
	(outside_doors_close)
	(garbage_man)
	(set lives (+ lives 1))
	(set no_lives_lost false)
	(if (= kill_messages false)
		(begin
			(lives_counter)
			(cinematic_set_title life_granted)
			(cinematic_set_title lives_resumed)
		)
	)
	(sleep 150)
	(if (= classic_weapons true)
		(object_create_anew_containing classic_)
	)
	(weapon_drop_powerweps)
	(if (= (game_difficulty_get_real) easy)
		(begin
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_create_anew call_reinforcements_panel)
			(activate_team_nav_point_flag default player reinforcements_flag 0.3)
			(if (= kill_messages false)
				(begin
					(show_hud_help_text true)
					(enable_hud_help_flash true)
					(hud_set_help_text reinforcements_unlocked)
					(sleep 150)
					(enable_hud_help_flash false)
					(show_hud_help_text false)
				)
			)
			(deactivate_team_nav_point_flag player reinforcements_flag)
		)
	)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_31_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_31_p2)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 13))
	(sleep 60)
	(ai_place combatforms_11-33/wave_31_p3)
	(ai_place carriers_11-51/carrier_1)
	(ai_place carriers_11-51/carrier_5)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_16)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_16)
	(object_create flood_pod_destroyed_16)
	(ai_place infections_11-51/flood_pod_infections_16)
	(ai_place combatforms_11-33/wave_32_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_32_p2)
	(ai_place carriers_11-51/carrier_9)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 12))
	(sleep 60)
	(ai_place combatforms_11-33/wave_32_p3)
	(ai_place carriers_11-51/carrier_4_camo)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_32_p4)
	(ai_place carriers_11-51/carrier_8)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_11-33/wave_33_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_11-33) 12))
	(sleep 60)
	(ai_place combatforms_11-33/wave_33_p2)
	(ai_place carriers_11-51/carrier_3_camo)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_33_p3)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_11-33) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_11-33/wave_33_p4)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_17)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_17)
	(object_create flood_pod_destroyed_17)
	(ai_place infections_11-51/flood_pod_infections_17)
	(ai_place combatforms_34-44/wave_34_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_34_p2)
	(ai_place carriers_11-51/carrier_2)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_34_p3)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_34_p4)
	(ai_place carriers_11-51/carrier_4)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_34_p5)
	(ai_place carriers_11-51/carrier_3_camo)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_34-44/wave_35_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_35_p2)
	(ai_place carriers_11-51/carrier_8_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_35_p3)
	(ai_place carriers_11-51/carrier_1)
	(ai_place carriers_11-51/carrier_5)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_35_p4)
	(ai_place carriers_11-51/carrier_9_camo)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(ammo_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_18)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_18)
	(object_create flood_pod_destroyed_18)
	(ai_place infections_11-51/flood_pod_infections_18)
	(ai_place combatforms_34-44/wave_36_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_36_p2)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_36_p3)
	(ai_place carriers_11-51/carrier_2_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_36_p4)
	(ai_place carriers_11-51/carrier_8)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_36_p5)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_34-44/wave_37_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_37_p2)
	(ai_place carriers_11-51/carrier_9)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_37_p3)
	(ai_place carriers_11-51/carrier_3_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_37_p4)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_37_p5)
	(ai_place carriers_11-51/carrier_5_camo)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_19)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_19)
	(object_create flood_pod_destroyed_19)
	(ai_place infections_11-51/flood_pod_infections_19)
	(ai_place combatforms_34-44/wave_38_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_38_p2)
	(ai_place carriers_11-51/carrier_2_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_38_p3)
	(ai_place carriers_11-51/carrier_6)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_38_p4)
	(ai_place carriers_11-51/carrier_4)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_38_p5)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_34-44/wave_39_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_39_p2)
	(ai_place carriers_11-51/carrier_1)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_39_p3)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_39_p4)
	(ai_place carriers_11-51/carrier_6_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 12))
	(sleep 60)
	(ai_place combatforms_34-44/wave_39_p5)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 12) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_39_p6)
	(ai_place carriers_11-51/carrier_5)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_20)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_20)
	(object_create flood_pod_destroyed_20)
	(ai_place infections_11-51/flood_pod_infections_20)
	(ai_place combatforms_34-44/wave_40_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_40_p2)
	(ai_place carriers_11-51/carrier_6)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_40_p3)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_40_p4)
	(ai_place carriers_11-51/carrier_3_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_40_p5)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(ammo_drop)
	(sleep 150)
	(ai_kill infections_1-10)
	(ai_kill carriers_1-10)
	(ai_kill infections_11-51)
	(ai_kill carriers_11-51)
	(set challenge_wave true)
	(set no_lives_lost true)
	(if (= kill_messages false)
		(begin
			(cinematic_set_title lives_suspended)
			(show_hud_help_text true)
			(hud_set_help_text challenge_wave_4)
			(enable_hud_help_flash true)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
	(ai_place combatforms_34-44/challenge_wave_4_p1)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 10) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/challenge_wave_4_p2)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 11))
	(sleep 60)
	(ai_place combatforms_34-44/challenge_wave_4_p3)
	(wave_over)
	(set challenge_wave false)
	(outside_doors_close)
	(garbage_man)
	(set lives (+ lives 1))
	(set no_lives_lost false)
	(if (= kill_messages false)
		(begin
			(lives_counter)
			(cinematic_set_title life_granted)
			(cinematic_set_title lives_resumed)
		)
	)
	(sleep 150)
	(if (= classic_weapons true)
		(object_create_anew_containing classic_)
	)
	(weapon_drop_powerweps)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_34-44/wave_41_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_41_p2)
	(ai_place carriers_11-51/carrier_9_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_41_p3)
	(ai_place carriers_11-51/carrier_4_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_41_p4)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_41_p5)
	(ai_place carriers_11-51/carrier_3_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_41_p6)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_21)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_21)
	(object_create flood_pod_destroyed_21)
	(ai_place infections_11-51/flood_pod_infections_21)
	(ai_place combatforms_34-44/wave_42_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_42_p2)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_42_p3)
	(ai_place carriers_11-51/carrier_8_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_42_p4)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_42_p5)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 14))
	(sleep 60)
	(ai_place combatforms_34-44/wave_42_p6)
	(ai_place carriers_11-51/carrier_2_camo)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_34-44/wave_43_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_43_p2)
	(ai_place carriers_11-51/carrier_6_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_43_p3)
	(ai_place carriers_11-51/carrier_5_camo)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_43_p4)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 14))
	(sleep 60)
	(ai_place combatforms_34-44/wave_43_p5)
	(ai_place carriers_11-51/carrier_3)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_43_p6)
	(ai_place carriers_11-51/carrier_1_camo)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_22)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_22)
	(object_create flood_pod_destroyed_22)
	(ai_place infections_11-51/flood_pod_infections_22)
	(ai_place combatforms_34-44/wave_44_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 13))
	(sleep 60)
	(ai_place combatforms_34-44/wave_44_p2)
	(ai_place carriers_11-51/carrier_3)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_44_p3)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 14))
	(sleep 60)
	(ai_place combatforms_34-44/wave_44_p4)
	(ai_place carriers_11-51/carrier_6)
	(sleep_until (and (<= (ai_living_count combatforms_34-44) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_34-44/wave_44_p5)
	(ai_place carriers_11-51/carrier_9_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_34-44) 14))
	(sleep 60)
	(ai_place combatforms_34-44/wave_44_p6)
	(ai_place carriers_11-51/carrier_4)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_45-51/wave_45_p1)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_45_p2)
	(ai_place carriers_11-51/carrier_8_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_45_p3)
	(ai_place carriers_11-51/carrier_5)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_45_p4)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_45_p5)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_45_p6)
	(ai_place carriers_11-51/carrier_6_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_45_p7)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(ammo_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_23)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_23)
	(object_create flood_pod_destroyed_23)
	(ai_place infections_11-51/flood_pod_infections_23)
	(ai_place combatforms_45-51/wave_46_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_46_p2)
	(ai_place carriers_11-51/carrier_3)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_46_p3)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_46_p4)
	(ai_place carriers_11-51/carrier_6_camo)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_46_p5)
	(ai_place carriers_11-51/carrier_8)
	(ai_place carriers_11-51/carrier_9)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_46_p6)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_46_p7)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_45-51/wave_47_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_47_p2)
	(ai_place carriers_11-51/carrier_8)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_47_p3)
	(ai_place carriers_11-51/carrier_4)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_47_p4)
	(ai_place carriers_11-51/carrier_9)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_47_p5)
	(ai_place carriers_11-51/carrier_2)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_47_p6)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 14))
	(sleep 60)
	(ai_place combatforms_45-51/wave_47_p7)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_24)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_24)
	(object_create flood_pod_destroyed_24)
	(ai_place infections_11-51/flood_pod_infections_24)
	(ai_place combatforms_45-51/wave_48_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p2)
	(ai_place carriers_11-51/carrier_1)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p3)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p4)
	(ai_place carriers_11-51/carrier_5)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p5)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 14))
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p6)
	(ai_place carriers_11-51/carrier_6_camo)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_48_p8)
	(ai_place carriers_11-51/carrier_3)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(ai_place combatforms_45-51/wave_49_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p2)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p3)
	(ai_place carriers_11-51/carrier_4)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p4)
	(ai_place carriers_11-51/carrier_8_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p5)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p6)
	(ai_place carriers_11-51/carrier_9)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p7)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 13) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_49_p8)
	(ai_place carriers_11-51/carrier_7_camo)
	(outside_doors_open)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(object_destroy flood_pod_25)
	(effect_new "characters\floodcarrier\effects\body destroyed" flood_pod_flag_25)
	(object_create flood_pod_destroyed_24)
	(ai_place infections_11-51/flood_pod_infections_25)
	(ai_place combatforms_45-51/wave_50_p1)
	(ai_place carriers_11-51/carrier_8_camo)
	(ai_place carriers_11-51/carrier_9_camo)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p2)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p3)
	(ai_place carriers_11-51/carrier_7)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 14))
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p4)
	(ai_place carriers_11-51/carrier_3)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p5)
	(ai_place carriers_11-51/carrier_9_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 14))
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p6)
	(ai_place carriers_11-51/carrier_3_camo)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 14) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p7)
	(ai_place carriers_11-51/carrier_8_camo)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 14))
	(sleep 60)
	(ai_place combatforms_45-51/wave_50_p8)
	(wave_over)
	(outside_doors_close)
	(garbage_man)
	(weapon_drop)
	(ammo_drop)
	(sleep 150)
	(ai_kill infections_1-10)
	(ai_kill carriers_1-10)
	(ai_kill infections_11-51)
	(ai_kill carriers_11-51)
	(set challenge_wave true)
	(set no_lives_lost true)
	(if (= kill_messages false)
		(begin
			(cinematic_set_title lives_suspended)
			(show_hud_help_text true)
			(hud_set_help_text challenge_wave_5)
			(enable_hud_help_flash true)
			(sleep 150)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
	(ai_place combatforms_45-51/challenge_wave_5_p1)
	(set ai_dead false)
	(outside_doors_open)
	(sleep_until (<= (ai_living_count combatforms_45-51) 13))
	(sleep 60)
	(ai_place combatforms_45-51/challenge_wave_5_p2)
	(sleep_until (and (<= (ai_living_count combatforms_45-51) 15) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
	(outside_doors_close)
	(sleep 60)
	(ai_place combatforms_45-51/challenge_wave_5_p3)
	(outside_doors_open)
	(wave_over)
	(set challenge_wave false)
	(outside_doors_close)
	(garbage_man)
	(set lives (+ lives 1))
	(set no_lives_lost false)
	(if (= kill_messages false)
		(begin
			(lives_counter)
			(cinematic_set_title life_granted)
			(cinematic_set_title lives_resumed)
		)
	)
	(sleep 150)
	(if (= classic_weapons true)
		(object_create_anew_containing classic_)
	)
	(cinematic_set_title goldilocks_spawned)
	(object_destroy_containing spawngun_)
	(object_create_anew goldilocks)
	(effect_new quarantine\effects\boom spawngun_flag)
	(activate_team_nav_point_flag item player spawngun_flag 0.5)
	(sleep 180)
	(deactivate_team_nav_point_flag player spawngun_flag)
	(set waves (+ waves 1))
	(sleep 150)
	(wave_counter)
	(set wave_of_death true)
)
;(script dormant main
(script dormant main_descent
	(camera_control 1)
	(fade_out 0 0 0 0)
	(player_enable_input 0)
	(cinematic_start)
	(set kill_messages true)
	(hud_set_objective_text welcome)
	(set cheat_deathless_player true)
	(set cheat_medusa false)
	(set cheat_infinite_ammo false)
	(set cheat_bottomless_clip false)
	(set cheat_super_jump false)
	(set cheat_omnipotent false)
	(ai_allegiance player human)
	(camera_set intro_ship 0)
	(sleep 60)
	(fade_in 0 0 0 90)
	(sleep 120)
	(effect_new "effects\explosions\medium explosion" intro_boom_1)
	(sleep 150)
	(effect_new "effects\explosions\medium explosion" intro_boom_2)
	(fade_out 0 0 0 60)
	(sleep 60)
	(cinematic_set_title presenting)
	(sleep 120)
	(cinematic_set_title descent_quarantine)
	(sleep 180)
	(camera_set intro_drop 0)
	(sleep 30)
	(fade_in 0 0 0 60)
	(sleep 90)
	(player_effect_set_max_translation 0.0075 0.0075 0.0125)
	(player_effect_set_max_rotation 0.01 0.01 0.05 )
	(player_effect_set_max_rumble 0.2 0.5 )
	(player_effect_start (real_random_range 0.7 0.9) 1)
	(effect_new "vehicles\scorpion\shell explosion" cinematic_pod_flag)
	(effect_new "vehicles\scorpion\shell impact dirt" cinematic_pod_flag)
	(effect_new "weapons\frag grenade\effects\explosion" cinematic_door_flag)
	(object_create_containing cinematic_pod_)
	(sleep 30)
	(player_effect_stop 1)
	(sleep 90)
	(ai_place tutorial/intro)	
	(sleep 150)
	(fade_out 0 0 0 60)
	(sleep 60)
	(ai_erase tutorial)
	(object_destroy cinematic_door)
	(object_create locked_door)
	(sleep 30)
	(object_teleport (player0) starting_flag)
	(camera_control 0)
	(cinematic_stop)
	(player_enable_input 1)
	(fade_in 0 0 0 20)
	(set intro_complete true)
	(set kill_messages false)
	(wake quarantine)
)
(script continuous end_wave_panel
	(if
		(or
			(and (< (ai_living_count combatforms_1-10) 2) (> (ai_living_count combatforms_1-10) 0))
			(and (< (ai_living_count combatforms_11-33) 2) (> (ai_living_count combatforms_11-33) 0))
			(and (< (ai_living_count combatforms_34-44) 2) (> (ai_living_count combatforms_34-44) 0))
			(and (< (ai_living_count combatforms_45-51) 2) (> (ai_living_count combatforms_45-51) 0))
		)
		(if (and (= ai_dead false) (= end_wave_panel_created false))
			(begin
				(effect_new quarantine\effects\boom missing_flag)
				(object_create_anew end_wave_panel)
				(set end_wave_panel_created true)
			)
		)
	)
)
(script continuous end_wave_panel_reset
	(if (= ai_dead true)
		(begin
			(effect_new quarantine\effects\boom missing_flag)
			(object_destroy end_wave_panel)
			(sleep_until (= ai_dead false))
			(set end_wave_panel_created false)
		)
	)
)
(script continuous final_wave
	(if (= wave_of_death true)
		(begin
			(sleep_until (<= (ai_living_count combatforms_45-51) 18))
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p1)
			(sleep_until (and (<= (ai_living_count combatforms_45-51) 18) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
			(outside_doors_close)
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p2)
			(ai_place carriers_11-51/carrier_8_camo)
			(outside_doors_open)
			(sleep_until (<= (ai_living_count combatforms_45-51) 18))
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p3)
			(sleep_until (and (<= (ai_living_count combatforms_45-51) 18) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
			(outside_doors_close)
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p4)
			(ai_place carriers_11-51/carrier_7_camo)
			(outside_doors_open)
			(sleep_until (<= (ai_living_count combatforms_45-51) 18))
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p5)
			(sleep_until (and (<= (ai_living_count combatforms_45-51) 18) (= (volume_test_object death_by_outside_1 (player0)) 0) (= (volume_test_object death_by_outside_2 (player0)) 0)))
			(outside_doors_close)
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p6)
			(ai_place carriers_11-51/carrier_9_camo)
			(outside_doors_open)
			(sleep_until (<= (ai_living_count combatforms_45-51) 18))
			(sleep 60)
			(ai_place combatforms_45-51/wave_of_death_p7)
		)
	)
)
(script startup reinforcements
	(sleep_until (= (device_get_position call_reinforcements_panel) 1))
	(sleep 30)
	(effect_new quarantine\effects\boom reinforcements_flag)
	(object_destroy call_reinforcements_panel)
	(player_effect_set_max_translation 0.0075 0.0075 0.0125)
	(player_effect_set_max_rotation 0.01 0.01 0.05)
	(player_effect_set_max_rumble 0.2 0.5)
	(player_effect_start (real_random_range 0.7 0.9) 1)
	(effect_new "vehicles\scorpion\shell explosion" odst_pod_flag)
	(effect_new "vehicles\scorpion\shell impact dirt" odst_pod_flag)
	(effect_new "weapons\frag grenade\effects\explosion" odst_door_flag)
	(object_create_containing odst_pod_)
	(if (or (= weapondropvalue 0) (= weapondropvalue 1) (= weapondropvalue 3) (= weapondropvalue 5) (= weapondropvalue 7) (= weapondropvalue 9) (= weapondropvalue 11))
		(ai_place teammate/odst_eva_ar)
	)
	(if (or (= weapondropvalue 2) (= weapondropvalue 4) (= weapondropvalue 6) (= weapondropvalue 8) (= weapondropvalue 10) (= weapondropvalue 12))
		(ai_place teammate/odst_eva_tar)
	)
	(sleep 30)
	(player_effect_stop 1)
	(activate_nav_point_object team_mate (player0) (unit (list_get (ai_actors teammate) 0)) 0.5)
	(sleep_until (= (ai_living_count teammate) 0))
	(deactivate_team_nav_point_object player (unit (list_get (ai_actors teammate) 0)))
	(sleep 3600)
	(if (= kill_messages false)
		(cinematic_set_title reinforcements_ready)
	)
	(activate_team_nav_point_flag default player reinforcements_flag 0.5)
	(effect_new quarantine\effects\boom reinforcements_flag)
	(object_create_anew respawn_reinforcements_panel)
	(sleep 150)
	(deactivate_team_nav_point_flag player reinforcements_flag)
)
(script continuous reinforcements_respawn
	(if (= (device_get_position respawn_reinforcements_panel) 1)
		(begin
			(sleep 30)
			(device_set_position respawn_reinforcements_panel 0)
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_destroy respawn_reinforcements_panel)
			(effect_new quarantine\effects\boom teammate_flag)
			(if (or (= weapondropvalue 0) (= weapondropvalue 1) (= weapondropvalue 3) (= weapondropvalue 5) (= weapondropvalue 7) (= weapondropvalue 9) (= weapondropvalue 11))
				(ai_place teammate/odst_eva_ar)
			)
			(if (or (= weapondropvalue 2) (= weapondropvalue 4) (= weapondropvalue 6) (= weapondropvalue 8) (= weapondropvalue 10) (= weapondropvalue 12))
				(ai_place teammate/odst_eva_tar)
			)
			(activate_nav_point_object team_mate (player0) (unit (list_get (ai_actors teammate) 0)) 0.5)
			(sleep_until (= (ai_living_count teammate) 0))
			(deactivate_team_nav_point_object player (unit (list_get (ai_actors teammate) 0)))
			(sleep 3600)
			(if (= kill_messages false)
				(cinematic_set_title reinforcements_ready)
			)
			(activate_team_nav_point_flag default player reinforcements_flag 0.5)
			(effect_new quarantine\effects\boom reinforcements_flag)
			(object_create_anew respawn_reinforcements_panel)
			(sleep 150)
			(deactivate_team_nav_point_flag player reinforcements_flag)
		)
	)
)
(script continuous explosion_state
	(if (= (unit_get_current_flashlight_state (player0)) true)
		(begin
			(if (= explosion_one_life true)
				(unit_set_desired_flashlight_state (player0) false)
			)
		)
	)
	(sleep 5)
)
(script continuous explosion_starter
	(sleep_until (and (= (unit_get_current_flashlight_state (player0)) false) (= explosion_blocker false)))
	(if (= explosion_one_life false)
		(begin
			(set explosion_one_life true)
			(unit_set_desired_flashlight_state (player0) false)
			(object_create_anew explosion_effect)
			(objects_attach (player0) "" explosion_effect "")
			(objects_detach (player0) explosion_effect)
			(sleep_until (= explosion_one_life false))
			(unit_set_desired_flashlight_state (player0) true)
		)
	)
)
(script continuous infection_spawn
	(if (and (<= (ai_living_count infections_1-10) 6) (= game_started true) (= challenge_wave false) (<= waves 10))
		(begin
			(ai_place infections_1-10/wave_1-10)
			(sleep 90)
		)
	)
	(if (and (<= (ai_living_count infections_1-10) 11) (= game_started true) (= challenge_wave true) (= waves 10))
		(begin
			(ai_place infections_1-10/challenge_wave_1)
			(sleep 90)
		)
	)
	(if (and (<= (ai_living_count infections_11-51) 13) (= game_started true) (= challenge_wave false) (> waves 10) (<= waves 30))
		(begin
			(ai_place infections_11-51/wave_11-30)
			(sleep 90)
		)
	)
	(if (and (<= (ai_living_count infections_11-51) 15) (= game_started true) (= challenge_wave false) (> waves 30))
		(begin
			(ai_place infections_11-51/wave_31-51)
			(sleep 90)
		)
	)
)
(script continuous level_functions
	(set cheat_deathless_player true)
	(set cheat_medusa false)
	(if (= enemies_see_me true)
		(begin
			(ai_magically_see_players combatforms_1-10)
			(ai_follow_target_players combatforms_1-10)
			(ai_magically_see_players combatforms_11-33)
			(ai_follow_target_players combatforms_11-33)
			(ai_magically_see_players combatforms_34-44)
			(ai_follow_target_players combatforms_34-44)
			(ai_magically_see_players combatforms_45-51)
			(ai_follow_target_players combatforms_45-51)
			(ai_magically_see_players carriers_1-10)
			(ai_follow_target_players carriers_1-10)
			(ai_magically_see_players carriers_11-51)
			(ai_follow_target_players carriers_11-51)
			(ai_magically_see_players infections_1-10)
			(ai_follow_target_players infections_1-10)
			(ai_magically_see_players infections_11-51)
			(ai_follow_target_players infections_11-51)
			(ai_magically_see_players teammate)
			(ai_follow_target_players teammate)
			(ai_magically_see_encounter teammate combatforms_11-33)
			(ai_magically_see_encounter teammate combatforms_34-44)
			(ai_magically_see_encounter teammate combatforms_45-51)
			(ai_magically_see_encounter teammate carriers_11-51)
		)
	)
	(if (= (device_get_position end_wave_panel) 1)
		(begin
			(ai_kill combatforms_1-10)
			(ai_kill combatforms_11-33)
			(ai_kill combatforms_34-44)
			(ai_kill combatforms_45-51)
			(device_set_position end_wave_panel 0)
			(set ai_dead true)
		)
	)
	(if (or (= cheat_bottomless_clip true) (= cheat_bump_possession true) (= cheat_infinite_ammo true) (= cheat_omnipotent true) (= cheat_super_jump true) (= cheat_medusa true))
		(set cheater true)
	)
	(if (and (< (ai_living_count combatforms_1-10) 3) (> (ai_living_count combatforms_1-10) 0))
		(begin
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_1-10) 1)) 0.4)
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_1-10) 0)) 0.4)
		)
	)
	(if (and (< (ai_living_count combatforms_11-33) 3) (> (ai_living_count combatforms_11-33) 0))
		(begin
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_11-33) 1)) 0.4)
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_11-33) 0)) 0.4)
		)
	)
	(if (and (< (ai_living_count combatforms_34-44) 3) (> (ai_living_count combatforms_34-44) 0))
		(begin
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_34-44) 1)) 0.4)
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_34-44) 0)) 0.4)
		)
	)
	(if (and (< (ai_living_count combatforms_45-51) 3) (> (ai_living_count combatforms_45-51) 0))
		(begin
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_45-51) 1)) 0.4)
			(activate_nav_point_object enemy (player0) (unit (list_get (ai_actors combatforms_45-51) 0)) 0.4)
		)
	)
	(if (= weapondropvalue 12)
		(set weapondropvalue 0)
	)
	(set weapondropvalue (+ weapondropvalue 1))
	(life_lost)
	(if (= (volume_test_object death_by_fall (player0)) 1)
		(begin
			(set dead_by_fall true)
			(object_can_take_damage (player0))
			(damage_object quarantine\effects\kill_me (player0))
		)
	)
	(if
		(or
			(volume_test_objects death_by_outside_1 (player0))
			(volume_test_objects death_by_outside_2 (player0))
			(and (volume_test_objects death_by_outside_3 (player0)) (= game_started true))
			(volume_test_objects death_by_camping_1 (player0))
			(volume_test_objects death_by_camping_2 (player0))
		)
		(begin
			(clorox_eyes)
			(show_hud_help_text true)
			(hud_set_help_text warning_1)
			(enable_hud_help_flash true)
			(sleep 30)
			(hud_set_help_text warning_2)
			(sleep 30)
			(show_hud_help_text false)
			(cinematic_screen_effect_stop)
			(if (or 
					(volume_test_objects death_by_outside_1 (player0))
					(volume_test_objects death_by_outside_2 (player0))
					(and (volume_test_objects death_by_outside_3 (player0)) (= game_started true))
					(volume_test_objects death_by_camping_1 (player0))
					(volume_test_objects death_by_camping_2 (player0))
				)
				(begin
					(clorox_eyes)
					(show_hud_help_text true)
					(hud_set_help_text warning_3)
					(sleep 30)
					(show_hud_help_text false)
					(cinematic_screen_effect_stop)
					(if (or 
							(volume_test_objects death_by_outside_1 (player0))
							(volume_test_objects death_by_outside_2 (player0))
							(and (volume_test_objects death_by_outside_3 (player0)) (= game_started true))
							(volume_test_objects death_by_camping_1 (player0))
							(volume_test_objects death_by_camping_2 (player0))
						)
						(begin
							(clorox_eyes)
							(show_hud_help_text true)
							(hud_set_help_text warning_4)
							(sleep 30)
							(show_hud_help_text false)
							(cinematic_screen_effect_stop)
							(if (or 
									(volume_test_objects death_by_outside_1 (player0))
									(volume_test_objects death_by_outside_2 (player0))
									(and (volume_test_objects death_by_outside_3 (player0)) (= game_started true))
									(volume_test_objects death_by_camping_1 (player0))
									(volume_test_objects death_by_camping_2 (player0))
								)
								(begin
									(clorox_eyes)
									(object_can_take_damage (player0))
									(damage_object quarantine\effects\kill_me (player0))
									(show_hud_help_text false)
									(sleep 15)
								)
							)
						)
					)
				)
			)
		)
	)
	(if (= (device_get_position easter_weapons_panel) 1)
		(begin
			(device_set_position easter_weapons_panel 0)
			(effect_new quarantine\effects\boom easter_weapons_flag)
			(object_destroy easter_weapons_panel)
			(set classic_weapons true)
			(object_create_anew_containing classic_)
		)
	)
	(if (= happy_easter true)
		(begin
			(if (= (device_get_position egg_panel_1) 1)
				(begin
					(device_set_position egg_panel_1 0)
					(effect_new quarantine\effects\boom egg_flag_1)
					(object_destroy egg_panel_1)
					(set egg_panels (+ egg_panels 1))
				)
			)
			(if (= (device_get_position egg_panel_2) 1)
				(begin
					(device_set_position egg_panel_2 0)
					(effect_new quarantine\effects\boom egg_flag_2)
					(object_destroy egg_panel_2)
					(set egg_panels (+ egg_panels 1))
				)
			)
			(if (= (device_get_position egg_panel_3) 1)
				(begin
					(device_set_position egg_panel_3 0)
					(effect_new quarantine\effects\boom egg_flag_3)
					(object_destroy egg_panel_3)
					(set egg_panels (+ egg_panels 1))
				)
			)
			(if (= (device_get_position egg_panel_4) 1)
				(begin
					(device_set_position egg_panel_4 0)
					(effect_new quarantine\effects\boom egg_flag_4)
					(object_destroy egg_panel_4)
					(set egg_panels (+ egg_panels 1))
				)
			)
			(if (= (device_get_position egg_panel_5) 1)
				(begin
					(device_set_position egg_panel_5 0)
					(effect_new quarantine\effects\boom egg_flag_5)
					(object_destroy egg_panel_5)
					(set egg_panels (+ egg_panels 1))
				)
			)
		)
	)
	(sleep 30)
)
(script dormant about
	(if (= kill_messages false)
		(begin
			(show_hud_help_text true)
			(enable_hud_help_flash true)
			(hud_set_help_text build_info)
			(sleep 900)
			(enable_hud_help_flash false)
			(show_hud_help_text false)
		)
	)
)